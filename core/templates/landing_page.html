{% extends 'base.html' %}
{% load static %}

{% block body_id %}landing_page{% endblock %}

{% block content %}
    <style>
        .itinerarios {
            padding-top: 10rem;
        }

        .cards { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); 
            gap: 1rem; 
            list-style: none; 
            padding: 0; 
        }

        .card { 
            display: block; 
            text-decoration: none; 
            color: inherit; 
        }

        .card article { 
            border: 1px solid #e5e7eb; 
            border-radius: 12px; 
            overflow: hidden; 
            background: #fff; 
        }

        .card figure {
            width: 100%;
            margin: 0;
        }

        .card img { 
            width: 100%; 
            height: 220px; 
            object-fit: cover; 
            display:block; 
        }

        .card h3 { 
            margin: .75rem 1rem; 
            font-size: 1.1rem; 
        }
    </style>    

    <main>
        <section id="main-section">
            <div class="text-section">
                <h3>Sistema Integral para la Gestión del Transporte Turístico, CITYTUR CATAMARCA</h3>
                <p>Mejorando la experiencia de turismo en el recorrido de los principales puntos de interés de la ciudad</p>
            </div>
            <img class="colectivo-img" src="{% static 'images/colectivo.png' %}" alt="">
        </section>

        <section class="itinerarios" aria-labelledby="itinerarios-titulo">
        <h2 id="itinerarios-titulo">Itinerarios</h2>

            <ul class="cards">
            {% for itinerario in itinerarios %}
                <li>
                    <a class="card" href="#" aria-label="Ir a {{ itinerario.nombre }}">
                        <article>
                            <figure>
                                {% if itinerario.imagen and itinerario.imagen.name %}
                                    <img src="{{ itinerario.imagen.url }}" alt="Foto del itinerario {{ itinerario.nombre }}" loading="lazy" width="400" height="250">
                                {% else %}
                                    <img src="{% static 'img/placeholder.png' %}" alt="Sin imagen para {{ itinerario.nombre }}" loading="lazy" width="400" height="250">
                                {% endif %}
                                <figcaption>
                                    <h3>{{ itinerario.nombre }}</h3>
                                </figcaption>
                            </figure>
                        </article>
                    </a>
                </li>
            {% endfor %}
            </ul>
        </section>
    </main>
{% endblock %}

{% block footer_script %}
    {{ block.super }}
{% endblock %}